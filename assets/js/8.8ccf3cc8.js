(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{457:function(s,t){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAR0AAACZCAIAAACdXnlWAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AABGySURBVHic7Z2/a1vJFsfPPl7tXTnBRSJvCHrsA4UHaRzj3ecU7kRcKLDFIjDGbQo3KlOnVLNF2iAMYosFq3BQ5yLmPZNs42YFb0GEsI4LE9sb/QWvuLJ8Mz/PzJy5uvfqfAhBvnfuzEgzRzNz5nxHX3377bfAMAwpf5t1BRimhLBdMQw9bFcMQw/bFcPQw3bFMPSwXTEMPWxXDEMP2xXD0MN2xTD0sF0xDD0lsat+uxUjPSaZIY1rrZjS8PfMSsJ0smanp0wmXG92epQ1s9UHU5xQ7cxqyOSTrzKLu0130OlrXa9Nrivvyhd1pmiuiS5zxFsB+Y3oKsYGNp9kN15FIrGEdPc19+bpXZ1pWS0BOTlki5pncre+6rdbSced/m9ewDQ7vfQsEWlUCfK0U7BP5ev0AKWrPDPn5M6u4Lrjpv83p4RrC5lO8JSJhTlb+kFd5laTFv7kMYpJKMw80Op2MyzY5Llimqn9yCslg52wCTEG8mhXwhJoel3nrhBGIfkRqw0ICfBuQIZRgrCrpYcvt+p3Jn+c/tx5c2i+7kW6H5uXQOlbuhzkP11xysrgYGTmE4RdnZ8865w4XA/Gb5OXxKgMa7P0n/L4BjzKMSlmMA8Uhia5K2O2p9K3hJVVSOfWbZe55snWNedkbVdyB/Xogkq/gux+CMe62aVMzDBZ25VHTBCGGBYFKrvVFcFGxaTJ1K6sBqN03027uPB4pIhBg4kGhlYx80N28YEMMz/kMd6CYYoO2xXD0MN2xTD0sF0xDD2ltSu/oA1kvAV56UzJyGPc7QzJIBapiOcRMK7Esqva+uZPFwcvhpGytxASCKuTmeBPsLCWjjmPIH1dGZTMQ2KeQdnVtZFUtnca1bc9s7VsNFtrf/ReXIyTB9vwn2dHVyR1TRexWwMAgMth+9XJ6Mu75uAj5PFJQvcl1Pkz8wDKru7dWoCL5OX49JMl8WG/B81WvwYArbvvBlGMqjJsd05GUNneaXSan5v999O7SqW9cEWZrTmQAhnUay0dT/pkATBGgTA5xOa3qD/ut1u7NVhptPrtxtPFhadbrZfrFfNDHy7GZBUUub9WG++/Tsaoq+7r4VntwfbS5J6r0t5KVJ0/snSkNJPJFbbxavimOaxs7/wArw+68PDl1sKvNv3iRrP148WgOfjXc3jzy63Nl+uk88D68gqMj88B4EZYWb0N/S0Hpb15paSbOhLq/EPgZVUhwMwDv6kujo/PAZYALscfbKkP+71DgNr6AlzA6OjgGUElv+Ry/GFiUeP9vQE8aVS9lPbJC8xyi1znjwR5HgGTQyx2NfUQrLRbuwAA0GkvYCT3o6ODFwTVU7FY72yN9/d63XMAqGyT5q07DgCkkSqST8LjPAImh1js6rDfO1x6+PIJdF6dwPpm59bvaSfBDPg0PgP4ODjoTqaC91YXx29trhQZpz5KqPN3gg2puCDmgbcX7sDED3F28Vfc6lg5P/l1VN9dfVgbnowANr6v3xkdT2wMjVVblX4B0sqKyqgIzyNg8gZuX/jq8whg48bbPksO+4PlnUanXQcAGB17j5/C8km5mRtP5097HgGTNxB2NXzTHAJcOyRywFX3Va/r+7DsjQC9h0B4irATRzqPgMkJcxcfaPChTxPo/H5U0J5HwOQQ1uEzDD2l1YkwzAxhu2IYetiuGIYetiuGoae0dsU6fB1y3fJc24Iyd352M+XT4RsC8NM5yNkiNwOyoXA74OX0s3vo8M1nr8sXvXX4gkzLHBtlyArz7pSaFyFDP8mmivvP22srAL8NLIpyLfXH/UZV91tqxTIteh1+JlS2dxpPFy0NMOc6fJ1RQapucoyid4U3mmt33w2aotbO1FIiwzfNIWw0W7vN+4dSeNrMP08n6HX40ak/7jcW9t+dwiPFTdbhG7B+DgH5V5Yr47f//dKojC2l4/CP093Vr2sAI3va/BJFhw8AG01UMncq26vwc+egq4oAZh2+sjLyrek/+U86TC3lR4FiuOh1+JG56r56I191UsILbWPWLwqZG9wAyNIDCe9YmDmtIfhYl5WEuqXsfBqf+TyWL+h1+DPB2mV1ogzMcktILC/DXEtHoouy97ZPvLW4u0muOwkJi9V/L52MqHKbBdQ6/IlLBwAAao3+I4AQB1HmCOt43S35z9gVIJkCOa0t0bh4JjCcnzzrfH7ebvVVh0MWBWod/rVYKzmVifzwQCqc+qirS5CKEEMyeOfNZbm/r0QOd/95e3N578BVu61gKVlu9OTzUcrlD8yVDp8CnStM6f0DaWVF1bqyj9tcT5Ilu3VLzZe/Ti+d0iebXapR7vbCnbwuN/AUT4d/c4g0wG67tavZRrQifEMrd2CVMzFyo5LL8s5EyBCzNx0PY0u9Px6trdQWlpcAcENcgQYriKfDjyfaD8xZOeHReQiEpwjbFZMVyYJK2R2z2WM1t9SHizHUxn+W0ahgDuMDDT70aQKd348Kq8Eo3YzTqjrZm8H7j6kJMg3A1Z9XCz/+s9I9R6yoJ8eqqicatVsLcPWn4K4ollFBWeMDmRlwfax3cHzgeJ/E/zFT2K4Yhp7S6q8YZoawXTEMPWxXDENPae3K1Ukt+wDjlZUlct3yXNvSMHd+djPkGzuYTqxznXuE25pjl5TRxkiHex483QXaxYrhD5zosUN+lCAQZfAE5hHysgRRljkSypAVpnpKhYuQoZ9AU0Ww6l5HKdT4MXT471903idhzv2dr2OEJN8EyKhCnoXgCXyUnWZw8Nf8Z4nOqCBD1b25XVSoPttSqPHj6fCvuq+Oq+21n+ontN9nG83WbmXY7pyMoLK90+g0P6dHRTnAzxDyl0bdWmGafzxTk04v8wJ7j/Vdh2hDZNW9uV0UGD/boqvxY+nwASCJcb57i1aNf3+tNt5/nXwXXnVfD89qD7aXJveECU/yIkC5NAPNvzKCyYrBnvsZqe5N7aLCX6VPIkWLTVQd/jfVRfh4QSrBqi+vwLUu9Tpwpnob+lsxdPgEmv9AaLWMhnUd5qLpHWnaRR+rblPpF1yNH0eHf/3Jwui4Sa4Uvhx/mOQ/3t8bwJNGNY4OH5mVRwIluph6b/vEW4u7m0Slule1SxBFVuNT6/ATzj9/hNNYJ8ws1jtb4/29XvccACrbpHlnvCYWHAnT6yRTHbeVJBa9F4e2XQquxqfW4U9IXIIR+DQ+A/g4uI53Xrq3ujh+636kYQ4n6CFVMnjnzWW5G5hGdU/ULjcUXI0fRYdfW9/sPIIo0f7nJ7+O6rurD2vDkxHAxvf1O6Nj11J0zjFypX2akqvuLe2iV93rKLgav3g6/MP+YHmn0WnXAYK2njE6fELNv26BF5KJkOFsVffGdlGo7v0+20IMVhBJhz86OmgehdTKTDIV8cRJh091mgAyBCm8lBmq7s3tIqvuPT7bohgVzGF8oHK6Re4zkIuwVklXsXKr7nUUXY3PemHGi3DVvY5SqPHZrhiGntLqrxhmhrBdMQw9bFcMQ8/c+QMxKIWA+EfwaZzkYQnmHArkiS43bFcOGALVnbZlrTu85gq4gnlK59CnCgKeN/JjV2hdt1GnHQPdVrIh5ZQkWtxjAERWzBwTKAf1GmK1dHEnIbH/c0sMHb4Pml9TV2HUaQci6HZ1O7ZI9WFa/Cv8r9REelRVkFRaLZ/Jhng6fCdUv6ZuJJJOGx93izGDtPnJ9qMbOvD2kM4qfBiMcRbA3GKzq+nvmtZa/QYAAGy1Vt9l8EOMydh4DI21FYAZ7r6bI4kMt2R3gjK01/ygX3HeCJXkEc+bqDr8UFYaD/b3ei/Ooba+2fn+fjc964uv08bM95Aqd2X8YYxw2EgKF9oM54E4Onxn1L+m/tu1Tm50MYZ/SLO+mDrt9CRNuOXaceXJHqHfQi4rxLTIzwKYW+Lo8B3w/TX1ODptpRfBsPhBblsZMjekt0LiqYt6FsDcEkmHj8f319T1Ou0Q8HoKJQYft2EAVNbBmr/H41bYkKiIosN3x/XX1DPVaXsMIMgcslIc3lQjbe3ZnAUwnxRPh5894ZtC6ZFqVmuVDM4CYKZE0eFTcNV9lWq/6zrkCqTffJoYpAFKmQPedEmkxN4ZMgZyEsfkousGAI1OOxxkdBJoXGc6Bx18udwSzEkXN2Stic5vIQ+MWZ4FwECO9MJ4XXcpdNpMucmNXTFMiWBdI8PQw3bFMPSwXTEMPTnxB5YBqr0dPgWgBLBdfQHSoeynQQzMkE8BKJDR5seugn9fnUKfj+ya5rvWyAan73VltC5yn63JpwDMiALq8HXE1Oc74R31J+wv6/ZqraqwdCbK/+XO6jcCpx/3jhopJUXV4esg1+e7DlYJfqal+y7XpcSkEYLorUOHn0olfBgUvlNmG0sZDuvwTZg7mXWhEt7bzDFEhluyOwEZzei3viIxgGaJTgEorA5fB50+X2hdb98Xfi0kly5f1z2C9Fs0+RSATCiyDl8HhT5fubBGRsdOH9cZhrX/pSdpwq3wuSWh30IuK8S0lKHMUMzZYGF1+Doo9PmBqybvvqX0IhgWP8jKGDI3pLdC4qnTGXzJ54H51eHrCNbne6+a8F4HQ+bApwCUgoLq8PW/rx6mzw9cIcx2gaErWpdDjCWWAWFowqwws6lYDAqqw1f8vjoJeP+1QDy/cPimUHqkmtVaxbpX7pdJbimqDl/+ffVZMav+ivSbTxMDnwKQITmJYyL7ffVI+nwZv0gF64YY/qLsOtM56ODL5ZZgTng/p5C/zm8hf9EgF3XKeWBBHRi50QuH/7466/OZ3JAbu2KYEsG6Roahh+2KYehhu2IYenLiDywkso9becWciTkHgxudpHS5ApmRwy14QspvV8i+pUymDADFdGghk5C6BWK2UkwFnKIQ8ZUxPCvssGFyJoSk0Hh2Fayr1+Gut5fbSbf9L2+Vyrs0yt3VsLcEhqwEw07/KfdIv1011yrJYCQqhmeFz1N3KxtICo2lwyfQ1euYtd6+P1Nlu8Gedb1BZ4rxAvOt2aZfeIdifPn45HscAM5Sutva+mbn0cL0kekt3fWEcNOKpMMn09XriKG3T78wNLkQGG4dDP2UF+Z2Vd7VpZ/JtMpQllPgvzIUQ358o7kGg15zmAQY/LD9v5vYgDONvF13nYTMdPiOuvr64/534/1K/eki/DZInooeSCHE+BjsQUhm7h9+6ytrngbph2EyiR9O1e8L1y5O60bhjeD9NGluglfPP7y9rK+6/DaNksAhK1MdvpuuvlavDno/f9fabTzY3xucPmlUb6ei1+n09maUa5j0x52OwSMfEKzf+vJrnQPGnJsD5nZJfeko34I8KdWFJgpfAeiP95vqIny8iH3+ioVIOnwKXf3l8JchwK0xwO/dc9gGuHurApD6vCj09mmUwawgtbfcRwmdBMIVZWdyNQ/v9ZUaY7soHUI6P5Aucjc993N1mW4011Yuh+2UC+DOo0b/0aTmaQm57joJ5Dp8al29Dgq9PejNwzAPdJ1T+a2vzMmcTAvTlUnQ1QrjQcVUzPqWa+ubu7Xx/t5NfxgdHTSPJq83mq3ODiS9RXedCnIdPrWuXkew3l7GaRPGsLxRpvcu0eA7UeZGNXi6Wq91E0+3e0ZV4dr6ZucRGBbhh3+c7jYW7kmzJOX1+P5AHx0+na7eUCtHvb0wNFmX+2a/hfJ6xvst8koP+RQ+sV9NkFDWof7YbFQAle3VKoyOpQ6mux5ETnT4sXT1U3QbwX6ZYPxXsTF0ZevQgSwC/zURngY/L1WlvP+8UQWAp1utp5MryXd0siqZXDq72VDVXb8pIrBZM9PhO+rqpwmODpoAANB91ev6l06vA1f6AJWe97Aeo03pNDp5FJEgvp3gdlHuYZi/IBDD8vsXHeXy5EpTPd31m0I1N7FEimMi09XrcNLbI5dAutm/smsKU8p08+s8YNaK6dbuQok6R7/hrSEr4JGDH9alqfx5ZlY9kgyj6YXDdfU6WG/P5B7W4TMMPaxrZBh62K4Yhh62K4ahh+2KYehhu2IYetiuGIYetiuGoYftimHoYbtiGHrYrhiGHrYrhqGH7Yph6Pk/UpAaSiR7erAAAAAASUVORK5CYII="},458:function(s,t,a){s.exports=a.p+"assets/img/bibh02.f5dc457c.png"},459:function(s,t,a){s.exports=a.p+"assets/img/bjbh03.70b056f0.png"},460:function(s,t,a){s.exports=a.p+"assets/img/bjbh04.50985f5a.png"},461:function(s,t,a){s.exports=a.p+"assets/img/bjbh05.c972f01f.png"},462:function(s,t,a){s.exports=a.p+"assets/img/bjbh07.d27a28d1.png"},495:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("数据库定义:数据库是一个以某种有组织的方式存储的数据集合。")]),s._v(" "),n("p",[s._v("表:表是一种结构化的文件，可用来存储某种特定类型的数据。")]),s._v(" "),n("p",[s._v("模式:表具有一些特性，这些特性定义了数据在表中如何存储，如可以存\n储什么样的数据，数据如何分解，各部分信息如何命名，等等。描述表\n的这组信息就是所谓的模式，模式可以用来描述数据库中特定的表以及\n整个数据库（和其中表的关系）。")]),s._v(" "),n("p",[s._v("列:表中的一个字段。所有表都是由一个或多个列组\n成的。")]),s._v(" "),n("p",[s._v("行:表中的数据是按行存储的，所保存的每个记录存储在自己的行内。")]),s._v(" "),n("p",[s._v("主键:表中每一行都应该有可以唯一标识自己的一列（或一组列）。")]),s._v(" "),n("p",[s._v("主键是用来标识出唯一的行，如果没有主键，那么涉及到相关操作的时候，就有可能无法保证删除到正确的行。")]),s._v(" "),n("ul",[n("li",[s._v("设置主键"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" student_score "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    number "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    subject "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    score "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TINYINT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" subject"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"主键设置规则"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#主键设置规则"}},[s._v("#")]),s._v(" 主键设置规则")]),s._v(" "),n("p",[s._v(" 任意两行都不具有相同的主键值；"),n("br"),s._v("\n 每个行都必须具有一个主键值（主键列不允许NULL值）"),n("br"),s._v("\n 不更新主键列中的值；"),n("br"),s._v("\n 不重用主键列的值；"),n("br"),s._v("\n 不在主键列中使用可能会更改的值。（例如，如果使用一个\n名字作为主键以标识某个供应商，当该供应商合并和更改其\n名字时，必须更改这个主键。）")]),s._v(" "),n("h2",{attrs:{id:"mysql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[s._v("#")]),s._v(" MySQL")]),s._v(" "),n("p",[s._v("数据的所有存储、\n检索、管理和处理实际上是由数据库软件——DBMS（数据库管理系统）\n完成的。MySQL是一种DBMS，即它是一种数据库软件。注意DBMS和数据库的概念完全不同")]),s._v(" "),n("h2",{attrs:{id:"有用的命令行"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#有用的命令行"}},[s._v("#")]),s._v(" 有用的命令行")]),s._v(" "),n("p",[s._v("SHOW COLUMNS FROM "),n("code",[s._v("表名")]),s._v(" 列出表里所有的列  做代码生成器的时候可以用到"),n("br"),s._v("\nDESCRIBE "),n("code",[s._v("表名")]),s._v(" 列出表里所有的列  同上"),n("br"),s._v("\nSHOW STATUS，用于显示广泛的服务器状态信息；"),n("br"),s._v("\nSHOW CREATE DATABASE和SHOW CREATE TABLE，分别用来显示创建特定数据库或表的MySQL语句；"),n("br"),s._v("\nSHOW GRANTS，用来显示授予用户（所有用户或特定用户）的安\n全权限；"),n("br"),s._v("\nSHOW ERRORS和SHOW WARNINGS，用来显示服务器错误或警告消息。"),n("br"),s._v("\nmysql -h主机名  -u用户名 -p密码 连接数据库注意-p和密码之间没有空格"),n("br"),s._v("\n退出:")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("quit\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("exit")]),s._v("\n\\q\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查询"}},[s._v("#")]),s._v(" 查询")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("DISTINCT 排重关键字")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DISTINCT")]),s._v(" vend_idF "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" products\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DISTINCT")]),s._v(" vend_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("products"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("注意这个DISTINCT关键字作用与后面所有的列，后面跟着的所有列都一样才合并为一行，否在将分开显示")])]),s._v(" "),n("li",[n("p",[s._v("limit 限制返回行数")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#从第 6 行开始，检索 5 行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OFFSET")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#从第 3 行开始，检索 4 行")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("注意从mysql5.5之后新增了offset字段，目的是增强语义化。还有行数是从0开始的，limit5取得是第六行")])]),s._v(" "),n("li",[n("p",[s._v("使用完全限定的表名")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" products"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" crashcourse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("products"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("排序\n使用order by进行排序，默认asc升序排序，desc降序排序")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" prod_price"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_name \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" prod_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#先按价格降序排列，再按产品名降序排列")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("查询价格最高的商品(如果价格一样就有问题)，这个句子展示了limit必须在order by后面")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" prod_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 最高值 ")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("where 过滤数据"),n("br"),s._v("\n使用where字段过滤数据，除了常见的判断符，还有<>符号，表示不等")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" vend_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" vend_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1003")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检索不是由1003供应商制造的所有产品 ")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("还有between范围值检查和null字符检查，这两个都用的少,注意这个is null，在数据库中null和''和0是由区分的，查询is null 那一列必须是null值")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" prod_price "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("between")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 价格 大于等于5，小于等于10 的产品名、产品价格")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" prod_price "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回prod_price为空值null的prod_name,无对应数据 ")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("and 和 or"),n("br"),s._v("\n使用and和or进行where子句连接，但要注意，同时使用and，or时，查询是由顺序的，必须使用()将子句包裹起来。")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" vend_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1002")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("or")]),s._v(" vend_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1003")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("in 和 not"),n("br"),s._v("\nin")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" vend_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1002")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1003")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("not")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" vend_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1002")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1003")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Mysql支持not对in，between，exsits子句取反 ")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"搜索"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搜索"}},[s._v("#")]),s._v(" 搜索")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("通配符搜索"),n("br"),s._v("\n使用%和_进行通配符搜索，%匹配多个字符，_匹配一个字符,使用like匹配字段中包含anvil，并且anvil出现的次数不受限制。")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%anvil%"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("注意 % 不能匹配null值，并且将%放在句首将会拖慢搜索速度")])]),s._v(" "),n("li",[n("p",[s._v("正则表达式匹配\nmysql中也可以使用正则匹配，但是对于正则表达式的支持比较有限，这里只记录书中出现的")]),s._v(" "),n("p",[s._v("在正则表达式中，匹配任意 一个 字符")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("regexp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('".000"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("正则表达式匹配默认不分大小写，需使用BINARY区分大小写")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("regexp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("binary")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"JetPack .000"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("正则表达式的OR操作符： |")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("regexp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1000|2000"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("正则表达式匹配几个字符之一 [ ]")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("regexp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[123] Ton'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [123]匹配单一字符：1或2或3")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("正则表达式匹配范围")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("regexp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[1-5] Ton'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [1-5]匹配1,2,3,4,5")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("正则表达式匹配特殊字符，必须用\\前导，进行转义\n多数正则使用单反斜杠转义，但mysql使用双反斜杠，mysql自己解释一个，正则表达式库解释一个")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" vend_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" vendors "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" vend_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("regexp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\\\."')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" vend_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ‘\\\\.'匹配字符.")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("正则表达式匹配字符类"),n("br"),s._v("\n[:alnum:]\t任意字母和数字（同[a-zA-Z0-9]）\n[:alpha:]\t任意字符（同[a-zA-Z]）"),n("br"),s._v("\n[:blank:]\t空格和制表（同[\\t]）"),n("br"),s._v("\n[:cntrl:]\tASCII控制字符（ASCII 0到31和127）"),n("br"),s._v("\n[:digit:]\t任意数字（同[0-9]）"),n("br"),s._v("\n[:graph:]\t与[:print:]相同，但不包括空格\n[:lower:]\t任意小写字母（同[a-z]）"),n("br"),s._v("\n[:print:]\t任意可打印字符\n[:punct:]\t既不在[:alnum:]又不在[:cntrl:]中的任意字符\n[:space:]\t包括空格在内的任意空白字符（同[\\f\\n\\r\\t\\v]）"),n("br"),s._v("\n[:upper:]\t任意大写字母（同[A-Z]）"),n("br"),s._v("\n[:xdigit:]\t任意十六进制数字（同[a-fA-F0-9]）")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("regexp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[:digit:]'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#[:digit:]匹配任意数字 ")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("匹配多个实例\nmysql正则中对于多个重复字符的支持"),n("br"),s._v(" "),n("img",{attrs:{src:a(457),alt:"重复字符"}})]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("regexp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\\\([0-9] sticks?\\\\)'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回了'TNT (1 stick)'和'TNT (5 sticks)'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("定位符"),n("br"),s._v(" "),n("img",{attrs:{src:a(458),alt:"'定位符'"}})]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("regexp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^[0-9\\\\.]'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#找出以一个数（包括以小数点开始的数）开始的所有产品")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" prod_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("regexp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[0-9\\\\.]'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#找出包括小数点和数字的所有产品")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[s._v("#")]),s._v(" 函数")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("拼接字段 concat()")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" concat"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vend_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("' ('")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("vend_country"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("')'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" vendors "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" vend_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("删除空格"),n("br"),s._v("\n删除数据左侧多余空格 ltrim()"),n("br"),s._v("\n删除数据两侧多余空格 trim()"),n("br"),s._v("\n删除数据右侧多余空格 rtrim()")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" concat"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rtrim"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vend_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("' ('")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("rtrim"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vend_country"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("')'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" vendors "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" vend_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("as赋予别名")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" concat"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rtrim"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vend_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("' ('")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("rtrim"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vend_country"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("')'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" vend_title "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" vendors "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" vend_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("执行算数计算")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" prod_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("item_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" orderitems "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" order_num "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20005")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("文本函数")]),s._v(" "),n("p",[n("img",{attrs:{src:a(459),alt:"alt"}}),s._v(" "),n("img",{attrs:{src:a(460),alt:"alt"}})]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" vend_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" upper"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vend_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" vend_name_upcase "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" vendors "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" vend_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("soundex() 描述语音表示的字母数字模式的算法,对串按照发音比较而不是字母比较")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" cust_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_contact "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" customers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" cust_contact "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Y. Lie'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 无返回 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" cust_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_contact "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" customers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" soundex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cust_contact"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" soundex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Y. Lie'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 按发音搜索 ")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("日期函数"),n("br"),s._v("\n常用日期函数\n"),n("img",{attrs:{src:a(461),alt:"alt"}}),n("br"),s._v("\n按照date()日期进行过滤信息，更可靠")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("order_num "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" orders "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("date")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("order_date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2005-09-01"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("聚合函数"),n("br"),s._v(" "),n("img",{attrs:{src:a(462),alt:"alt"}}),s._v("\navg() 求和，忽略null")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prod_price"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" avg_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("count() 对行的数目进行统计 忽略null")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" num_cust "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("max() & min()  最大最小")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prod_price"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" max_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prod_price"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" min_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("在用于文本数据时，如果数据按相应的列排序，则MIN()返回最前面一行")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("sum 求和")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" items_ordered "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" orderitems"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("使用聚合函数时去重")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v(" prod_price"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" avg_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" vend_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1003")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("在使用COUNT的使用指定条件，最后必须加上NULL，因为COUNT是不计算null的，如果这行数据的release_year不等于2006，那么就是返回null，而null不被计算，所以用这种方式进行筛选")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("release_year "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2006'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("or")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"分组函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分组函数"}},[s._v("#")]),s._v(" 分组函数")]),s._v(" "),n("ul",[n("li",[s._v("ROLLUP关键字"),n("br"),s._v("\n使用WITH ROLLUP关键字，可以得到每个分组的汇总值，下述语句得到所有分组count(*)的和14"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" vend_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" num_prods "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" vend_id "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with rollup")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),s._v("查询结果，3+2+7+2 = 14"),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1001\t3\n1002\t2\n1003\t7\n1005\t2\n        14\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),s._v("值得注意的是，这个rollup可以配合coalesce函数其别名"),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code")]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"})])]),s._v(" "),n("li",[s._v("coalesce函数"),n("br"),s._v("\ncoalesce(a,b,c);\n参数说明：如果a==null,则选择b；如果b==null,则选择c；如果a!=null,则选择a；如果a b c 都为null ，则返回为null（没意义）。"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("coalesce")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vend_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"总供应商"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" num_prods "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" vend_id "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with rollup")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),s._v("查询结果："),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1001\t3\n1002\t2\n1003\t7\n1005\t2\n总供应商\t14\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])]),s._v(" "),n("li",[s._v("having"),n("br"),s._v("\n和having组合使用"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" vend_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" num_prods "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" prod_price "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" vend_id "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("having")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"子查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#子查询"}},[s._v("#")]),s._v(" 子查询")]),s._v(" "),n("ul",[n("li",[s._v("作为计算字段使用子查询"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" cust_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" orders "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" orders\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" customers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" cust_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"连接表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#连接表"}},[s._v("#")]),s._v(" 连接表")]),s._v(" "),n("ul",[n("li",[s._v("联结"),n("br"),s._v("\n使用where字句联结两张表，这种使用where的方式，会去匹配每一个where中条件"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" vend_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_price \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" vendors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("products\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" vendors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vend_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" products"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vend_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" vend_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])]),s._v(" "),n("li",[s._v("内部联结"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" vend_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_price \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" vendors "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" products\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" vendors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vend_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" products"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vend_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"高级连接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#高级连接"}},[s._v("#")]),s._v(" 高级连接")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("表别名")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" cust_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_contact \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" customers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("orders "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("orderitems "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" oi\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" oi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_num "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_num\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" prod_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'TNT2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("自联结")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" p1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("p1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod_name\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" p1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" p2\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" p1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vend_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" p2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vend_id\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" p2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DTNTR'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("自然联结\n方法：通过对表使用通配符*，对所有其他表的列使用明确的子集,自然联结使每个列只返回一次")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_num"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("oi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("oi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("oi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("item_price\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" customers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("orders "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("orderitems "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" oi\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" oi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_num "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_num\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" prod_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'FB'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("外部联结\n方法： 内部联结，这里的内部联结感觉取一个交集的感觉，里面的列必须是双方都有的。")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_num\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" customers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" orders\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("左外部联结\n左外部联结,跟上一个内部联结放在一起谈，左外部联结更像以左边表的列为主体,去找右边的能够对应的数据")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_num\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" customers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("outer")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" orders\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("右外部联结\n右联结与左联结相反，我发现这个联结这个词用得很恰当，因为本质是集合操作，没有多余的思想。")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_num\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" customers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("right")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("outer")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" orders\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("带聚集函数的联结")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_num"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" num_ord\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" customers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" orders \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_num"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" num_ord\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" customers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("outer")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" orders \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"组合查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组合查询"}},[s._v("#")]),s._v(" 组合查询")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("使用union")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" vend_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" prod_price "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("union")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" vend_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" vend_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1002")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("union在一张表的时候也可以用where来代替，但是使用多表的话，union感觉更好做一点。")])]),s._v(" "),n("li",[n("p",[s._v("union all")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" vend_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" prod_price "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("union")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("all")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" vend_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_price "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" vend_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1002")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"全文搜索"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#全文搜索"}},[s._v("#")]),s._v(" 全文搜索")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("match和against")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" note_text "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" productnotes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("match")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("note_text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" against"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rabbit'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("显示")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" note_text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("match")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("note_text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" against"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rabbit'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rank'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" productnotes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("查询扩展")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" note_text "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" productnotes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("match")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("note_text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" against"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'anvils'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" query expansion"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("布尔搜索\n用来更灵活筛选全文搜索的结果")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("布尔操作符\t\t\t说明\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\t\t\t\t包含，词必须存在 \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\t\t\t\t排除，词必须不出现\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\t\t\t\t包含，而且增加等级值 \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("\t\t\t\t包含，且减少等级值 \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t\t\t\t把词组成子表达式（允许这些表达式作为一个组被包含、排除、排列等）\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),s._v("\t\t\t\t取消一个词的排序值\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\t\t\t\t词尾的通配符\n“ ”\t\t\t\t定义一个短语（与单个词的列表不一样，它匹配整个短语一边包含或排除这个短语）\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("全文本搜索检索包含词heavy的所有行\n关键字IN BOOLEAN MODE，实际上没有指定布尔操作符，其结果与没有指定布尔方式的结果相同")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" note_text "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" productnotes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("match")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("note_text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" against"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'heavy'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("mode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("-rope* 排除包含rope*（任何以rope开始的词，包括ropes）的行")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" note_text "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" productnotes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("match")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("note_text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" against"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'heavy -rope*'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("mode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("匹配包含词rabbit和bait的行")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" note_text "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" productnotes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("match")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("note_text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" against"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'+rabbit +bait'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("mode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("不指定操作符，搜索匹配包含rabbit和bait中的至少一个词的行")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" note_text "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" productnotes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("match")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("note_text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" against"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rabbit bait'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("mode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("搜索匹配短语rabbit bait而不是匹配两个词rabbit和bait。")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" note_text "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" productnotes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("match")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("note_text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" against"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\"rabbit bait\"'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("mode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("匹配rabbit和carrot，增加前者的等级，降低后者的等级")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" note_text "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" productnotes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("match")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("note_text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" against"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'>rabbit <carrot'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("mode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("必须匹配词safe和combination，降低后者的等级")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" note_text "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" productnotes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("match")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("note_text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" against"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'+safe +(<combination)'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("mode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"插入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#插入"}},[s._v("#")]),s._v(" 插入")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("单个插入\n插入的时候指定列名")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" customers "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cust_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_city"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_zip"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_country"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_contact"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_email"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Pep E. LaPew'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'100 Main Street'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Los Angeles'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'CA'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'90046'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'USA'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("批量插入")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方法一：多个insert的语句")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cust_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_city"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_zip"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_country"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Pep E. LaPew'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'100 Main Street'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Los Angeles'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'CA'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'90046'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'USA'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cust_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_city"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_zip"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_country"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'M. Martian'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'42 Galaxy Way'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'New York'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NY'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'11213'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'USA'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方法二：多个insert的语句")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cust_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_city"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_zip"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_country"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Pep E. LaPew'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'100 Main Street'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Los Angeles'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'CA'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'90046'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'USA'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'M. Martian'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'42 Galaxy Way'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'New York'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NY'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'11213'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'USA'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("insert selec\n插入查询出来的值")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" customers "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cust_contact"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_email"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_city"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_zip"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_country"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" cust_contact"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_email"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_city"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_zip"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_country "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" custnew"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"更新和删除"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#更新和删除"}},[s._v("#")]),s._v(" 更新和删除")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("更新")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" customers \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" cust_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'The Fudds'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    cust_email "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'elmer@fudd.com'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" cust_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10005")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("删除")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" customers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" cust_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10006")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("如果想从表中删除 所有行，不要使用DELETE，可使用TRUNCATE TABLE语句\nTRUNCATE实际是删除原来的表并重新创建一个表，而不是逐行删除表中的数据")])])]),s._v(" "),n("h2",{attrs:{id:"表操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#表操作"}},[s._v("#")]),s._v(" 表操作")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("新建表")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" customers\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  cust_id      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AUTO_INCREMENT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  cust_name    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  cust_address "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  cust_city    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  cust_state   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  cust_zip     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  cust_country "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  cust_contact "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  cust_email   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'表的注释信息'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENGINE")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("InnoDB")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("添加列\n给vendors表增加一个名为vend_phone的列")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" vendors \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add")]),s._v(" vend_phone "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("添加列到指定位置")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" 表名 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),s._v(" 列名 列的类型 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("列的属性"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FIRST")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("添加列到指定列后")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" 表名 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),s._v(" 列名 列的类型 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("列的属性"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AFTER")]),s._v(" 指定列名"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("删除列")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" vendors\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("column")]),s._v(" vend_phone"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("修改列")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" 表名 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MODIFY")]),s._v(" 列名 新数据类型 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("新属性"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("列的默认值")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("列名 列的类型 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" 默认值\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("设置非空列")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("列名 列的类型 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("列设置数据不重复\n在设置列的时候可以使用unique关键字，保证列中数据不会重复。")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("id_number "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHAR")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNIQUE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("也可以单独设置")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNIQUE")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("约束名称"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("列名"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 列名"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("定义外键")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" orderitems "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CONSTRAINT")]),s._v(" fk_orderitems_orders "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOREIGN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("order_num"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REFERENCES")]),s._v(" orders "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("order_num"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("删除表")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" customers2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("重命名表")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//第一种")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rename")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" backup_customers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" customer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  backup_vendors "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" vendors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nbackup_products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" products"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//第二种")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" 旧表名 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RENAME")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" 新表名"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("转移表到另一个数据库")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" first_table1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RENAME")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" dahaizi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("first_table1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("多个操作合并")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" 表名 操作"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 操作"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 操作n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"视图操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#视图操作"}},[s._v("#")]),s._v(" 视图操作")]),s._v(" "),n("ul",[n("li",[s._v("创建视图"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("view")]),s._v(" productcustomers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" cust_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_contact"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("orderitems\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" customers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_num "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" orderitems"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_num"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"存储过程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#存储过程"}},[s._v("#")]),s._v(" 存储过程")]),s._v(" "),n("ul",[n("li",[s._v("创建存储过程\ndelimiter //表明使用//作为语句的结尾符，因为使用；在命令行状态下会报错"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delimiter")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("procedure")]),s._v(" productpricing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prod_price"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" priceaverage "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])]),s._v(" "),n("li",[s._v("调用存储过程"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("call")]),s._v(" productpricing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[s._v("删除存储过程"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("procedure")]),s._v(" productpricing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[s._v("使用参数out\n调用存储过程并不会直接返回数据，必须传入out参数，将结果赋值out参数"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delimiter")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("procedure")]),s._v(" productpricing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("out")]),s._v(" pl "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("out")]),s._v(" ph "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("out")]),s._v(" pa "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prod_price"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" pl "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prod_price"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" ph "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prod_price"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" pa "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" products"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("call")]),s._v(" productpricing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@pricelow")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@pricehigh")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@priceaverage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@pricehigh")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@pricelow")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@priceaverage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[s._v("参数值in 额out\nin参数代表传入值和out相反"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delimiter")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("procedure")]),s._v(" ordertotal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" onumber "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   \t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# onumber定义为IN，因为订单号被传入存储过程")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("out")]),s._v(" ototal "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ototal为OUT，因为要从存储过程返回合计")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("item_price"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" orderitems \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" order_num "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" onumber\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" ototal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("call")]),s._v(" ordertotal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20009")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@total")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@total")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[s._v("复杂存储过程"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delimiter")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("procedure")]),s._v(" ordertotal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" onumber "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" taxable "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("out")]),s._v(" ototal "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("comment")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'obtain order total, optionally adding tax'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- declare variable for total 定义局部变量total")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("declare")]),s._v(" total "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- declare tax percentage 定义局部变量税率 ")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("declare")]),s._v(" taxrate "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- get the order total 获得订单合计")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("item_price "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" orderitems\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" order_num "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" onumber "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" total"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- is this taxable? 是否要增加营业税？ ")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" taxable "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Yes,so add taxrate to the total 给订单合计增加税率")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" total"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("total"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("taxrate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" total"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- and finally,save to out variable 最后，传递给输出变量 ")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" total "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" ototal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),s._v("调用"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 调用上述存储过程，不加税 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("call")]),s._v(" ordertotal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20005")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@total")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@total")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 调用上述存储过程，加税 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("call")]),s._v(" ordertotal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20005")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@total")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@total")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])])]),s._v(" "),n("li",[s._v("存储过程信息"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获得包括何时、由谁创建等详细信息的存储过程列表")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 该语句列出所有存储过程")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("procedure")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 过滤模式 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("procedure")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ordertotal'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"使用游标"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用游标"}},[s._v("#")]),s._v(" 使用游标")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v("感觉这个游标只是说可以把一些业务操作放到数据库里，其他的作用还没看到\n")])])]),n("ul",[n("li",[s._v("创建游标"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delimiter")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("procedure")]),s._v(" processorders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- decalre the cursor 声明游标 ")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("declare")]),s._v(" ordernumbers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("cursor")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_num "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- open the cursor 打开游标")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("open")]),s._v(" ordernumbers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- close the cursor 关闭游标")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("close")]),s._v(" ordernumbers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])])]),s._v(" "),n("li",[s._v("使用游标"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delimiter")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("procedure")]),s._v(" processorders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- declare local variables 声明局部变量")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("declare")]),s._v(" o "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- decalre the cursor 声明游标 ")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("declare")]),s._v(" ordernumbers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("cursor")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_num "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- open the cursor 打开游标")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("open")]),s._v(" ordernumbers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- get order number 获得订单号 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fetch")]),s._v(" ordernumbers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*fetch检索 当前行 的order_num列（将自动从第一行开始）到一个名为o的局部声明变量中。\n对检索出的数据不做任何处理。*/")]),s._v("\n    \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- close the cursor 关闭游标")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("close")]),s._v(" ordernumbers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"触发器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#触发器"}},[s._v("#")]),s._v(" 触发器")]),s._v(" "),n("ul",[n("li",[s._v("创建触发器"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("trigger")]),s._v(" newproduct "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("after")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" products "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for each row")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'product added'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@new_pro")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql 5.0以上版本在TRIGGER中不能返回结果集，定义了变量 @new_pro;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" products"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prod_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("vend_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("prod_price"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ANVNEW'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1005'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3 ton anvil'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'6.09'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 插入一行 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@new_pro")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示Product added消息")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])]),s._v(" "),n("li",[s._v("删除触发器"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("trigger")]),s._v(" newproduct"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[s._v("使用触发器"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# insert触发器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("trigger")]),s._v(" neworder "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("after")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" orders "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for each row")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" new"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_num "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@order_num")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("order_date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@order_num")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])]),s._v(" "),n("li",[s._v("delete触发器"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delimiter")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("trigger")]),s._v(" deleteorder before "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" orders "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for each row")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" archive_orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("order_num"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("order_date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("old"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_num"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("old"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("old"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 引用一个名为OLD的虚拟表，访问被删除的行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])])]),s._v(" "),n("li",[s._v("update触发器"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# update触发器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在更新vendors表中的vend_state值时，插入前先修改为大写格式 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("trigger")]),s._v(" updatevendor before "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" vendors \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for each row")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" new"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vend_state "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" upper"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("new"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vend_state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新1001供应商的州为china")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" vendors "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" vend_state "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'china'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" vend_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看update后数据，1001供应商对应的vend_state自动更新为大写的CHINA")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" vendors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"事务管理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事务管理"}},[s._v("#")]),s._v(" 事务管理")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("基本概念")]),s._v(" "),n("ol",[n("li",[s._v("事务 transaction 指一组sql语句")]),s._v(" "),n("li",[s._v("回退 rollback 指撤销指定sql语句的过程")]),s._v(" "),n("li",[s._v("提交 commit 指将未存储的sql语句结果写入数据库表")]),s._v(" "),n("li",[s._v("保留点 savepoint 指事务处理中设置的临时占位符，可以对它发布回退（与回退整个事务处理不同）")])])]),s._v(" "),n("li",[n("p",[s._v("事务操作")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 控制事务处理")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开始事务及回退 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ordertotals"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看ordertotals表显示不为空")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \t\t "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开始事务处理 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ordertotals"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除ordertotals表中所有行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ordertotals"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看ordertotals表显示 为空")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rollback")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t\t\t     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rollback语句回退 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ordertotals"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rollback后，再次查看ordertotals表显示不为空")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# commit 提交 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" orderitems "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" order_num "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20010")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" orders "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" order_num "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20010")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 仅在上述两条语句不出错时写出更改 ")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# savepoint 保留点 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建保留点")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("savepoint")]),s._v(" delete1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 回退到保留点 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rollback")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" delete1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 释放保留点 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("release")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("savepoint")]),s._v(" delete1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"全球化和本地化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#全球化和本地化"}},[s._v("#")]),s._v(" 全球化和本地化")]),s._v(" "),n("ul",[n("li",[s._v("字符集和校对顺序\n查看所支持的字符集完整列表"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("character")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),s._v("查看所支持校对的完整列表,以及它们适用的字符集"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" collation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),s._v("确定所用系统的字符集和校对"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" variables "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'character%'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" variables "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'collation%'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),s._v("指定字符集"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" mytable\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  column1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    column2 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("character")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" hebrew \n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("collate")]),s._v(" hebrew_general_ci"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),s._v("除了能指定字符集和校对的表范围外，MySQL还允许对每个列设置它们"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" mytable\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  column1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    column2 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    column3 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("character")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" latin1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("collate")]),s._v(" latin1_general_ci\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("character")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" hebrew \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("collate")]),s._v(" hebrew_general_ci"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),s._v("查询时指定顺序"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" customers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" lastname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("firstname "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("collate")]),s._v(" latin1_general_cs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"安全管理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安全管理"}},[s._v("#")]),s._v(" 安全管理")]),s._v(" "),n("ul",[n("li",[s._v("管理用户"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" mysql"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[s._v("创建用户账户\n创建用户设置密码"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" ben identified "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'p@$$w0rd'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),s._v("重命名一个用户账户"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rename")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" ben "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" bforta"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),s._v("删除用户"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" bforta"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),s._v("查看赋予用户账号的权限"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" grants "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" bforta"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),s._v("操作权限"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" crashcourse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" bforta"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),s._v("撤销权限"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("revoke")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" crashcourse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" bforta"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),s._v("简化授权"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" crashcourse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" bforta"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),s._v("重新设置密码"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" password "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'n3w p@$$w0rd'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"数据库维护"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据库维护"}},[s._v("#")]),s._v(" 数据库维护")]),s._v(" "),n("ul",[n("li",[s._v("分析表"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("analyze")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[s._v("检查表是否存在错误"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("check")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("orderitems"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("check")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("orderitems "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("quick")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# QUICK只进行快速扫描")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[s._v("优化表OPTIMIZE TABLE，消除删除和更新造成的磁盘碎片，从而减少空间的浪费"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("optimize")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[s._v("删除数据库"),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" 数据库名"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);